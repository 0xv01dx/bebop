{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\novak\\\\Documents\\\\MERN-Twitter-clone-main\\\\client\\\\src\\\\components\\\\LoginForm\\\\index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { login } from '../../actions/userActions';\nimport axios from '../../api';\nimport Input from '../Input';\nimport Button from '../Button';\nimport Loading from '../Loading';\nimport useMediaQuery from '../../hooks/useMediaQuery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginForm({\n  onPage,\n  clickRegister\n}) {\n  _s();\n\n  const [submitting, setSubmitting] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    const formData = {\n      username,\n      password\n    };\n\n    try {\n      const response = await axios.post('/auth/login', formData);\n      console.log(`✅ ${response.status} ${response.statusText}`);\n      dispatch(login({\n        user: response.data.user,\n        token: response.data.token\n      }));\n    } catch (error) {\n      var _error$response;\n\n      console.error('❌', error);\n      setSubmitting(false);\n\n      if ((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 400) {\n        alert(error.response.data.message);\n      } else {\n        alert('an unnexpected error occurred');\n      }\n    }\n  };\n\n  const isDesktop = useMediaQuery('(min-width: 992px)'),\n        formStylesPublicPage = {\n    display: isDesktop ? 'flex' : 'none',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    maxWidth: '650px',\n    width: '100%'\n  },\n        formStylesLoginPage = {\n    width: '100%',\n    height: '240px',\n    margin: '0 auto',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-evenly'\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    style: onPage === 'public' ? formStylesPublicPage : formStylesLoginPage,\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      label: \"Username\",\n      name: \"username\",\n      type: \"text\",\n      value: username,\n      onChange: e => setUsername(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"Password\",\n      name: \"password\",\n      type: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), submitting ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      text: \"Log in\",\n      design: onPage === 'public' ? 'outlined' : 'filled',\n      style: onPage === 'public' ? {\n        width: '220px'\n      } : {}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), onPage === 'login' && /*#__PURE__*/_jsxDEV(RegisterButton, {\n      clickRegister: clickRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"R572xqA69asHhAAxfs2YmeMRJ0k=\", false, function () {\n  return [useDispatch, useMediaQuery];\n});\n\n_c = LoginForm;\n\nfunction RegisterButton({\n  clickRegister\n}) {\n  _s2();\n\n  const ref = useRef(null);\n\n  const btnStyles = {\n    width: '100%',\n    backgroundColor: 'transparent',\n    border: 'none',\n    color: 'var(--twitterBlue)',\n    fontSize: '0.9rem',\n    fontWeight: '500'\n  },\n        doHoverStyles = () => ref.current.style.textDecoration = 'underline',\n        undoHoverStyles = () => ref.current.style.textDecoration = 'unset';\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    ref: ref,\n    style: btnStyles,\n    onMouseEnter: doHoverStyles,\n    onMouseLeave: undoHoverStyles,\n    onClick: clickRegister,\n    children: \"Sign up for Twitter\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(RegisterButton, \"QMBuJFIdzLIeqBcFwhMf246mjOM=\");\n\n_c2 = RegisterButton;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LoginForm\");\n$RefreshReg$(_c2, \"RegisterButton\");","map":{"version":3,"sources":["C:/Users/novak/Documents/MERN-Twitter-clone-main/client/src/components/LoginForm/index.js"],"names":["useRef","useState","useDispatch","login","axios","Input","Button","Loading","useMediaQuery","LoginForm","onPage","clickRegister","submitting","setSubmitting","username","setUsername","password","setPassword","dispatch","handleSubmit","e","preventDefault","formData","response","post","console","log","status","statusText","user","data","token","error","alert","message","isDesktop","formStylesPublicPage","display","alignItems","justifyContent","maxWidth","width","formStylesLoginPage","height","margin","flexDirection","target","value","RegisterButton","ref","btnStyles","backgroundColor","border","color","fontSize","fontWeight","doHoverStyles","current","style","textDecoration","undoHoverStyles"],"mappings":"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","sourcesContent":["import { useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { login } from '../../actions/userActions';\nimport axios from '../../api';\nimport Input from '../Input';\nimport Button from '../Button';\nimport Loading from '../Loading';\nimport useMediaQuery from '../../hooks/useMediaQuery';\n\nexport default function LoginForm({ onPage, clickRegister }) {\n  const [submitting, setSubmitting] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n    const formData = {\n      username,\n      password,\n    };\n\n    try {\n      const response = await axios.post('/auth/login', formData);\n      console.log(`✅ ${response.status} ${response.statusText}`);\n      dispatch(login({ user: response.data.user, token: response.data.token }));\n    } catch (error) {\n      console.error('❌', error);\n      setSubmitting(false);\n      if (error?.response?.status === 400) {\n        alert(error.response.data.message);\n      } else {\n        alert('an unnexpected error occurred');\n      }\n    }\n  };\n\n  const isDesktop = useMediaQuery('(min-width: 992px)'),\n    formStylesPublicPage = {\n      display: isDesktop ? 'flex' : 'none',\n      alignItems: 'center',\n      justifyContent: 'space-evenly',\n      maxWidth: '650px',\n      width: '100%',\n    },\n    formStylesLoginPage = {\n      width: '100%',\n      height: '240px',\n      margin: '0 auto',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-evenly',\n    };\n\n  return (\n    <form\n      style={onPage === 'public' ? formStylesPublicPage : formStylesLoginPage}\n      onSubmit={handleSubmit}>\n      {/* form inputs */}\n      <Input\n        label='Username'\n        name='username'\n        type='text'\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n      />\n      <Input\n        label='Password'\n        name='password'\n        type='password'\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n\n      {/* submit */}\n      {submitting ? (\n        <Loading />\n      ) : (\n        <Button\n          type='submit'\n          text='Log in'\n          design={onPage === 'public' ? 'outlined' : 'filled'}\n          style={onPage === 'public' ? { width: '220px' } : {}}\n        />\n      )}\n\n      {/* register (conditional) */}\n      {onPage === 'login' && <RegisterButton clickRegister={clickRegister} />}\n    </form>\n  );\n}\n\nfunction RegisterButton({ clickRegister }) {\n  const ref = useRef(null);\n\n  const btnStyles = {\n      width: '100%',\n      backgroundColor: 'transparent',\n      border: 'none',\n      color: 'var(--twitterBlue)',\n      fontSize: '0.9rem',\n      fontWeight: '500',\n    },\n    doHoverStyles = () => (ref.current.style.textDecoration = 'underline'),\n    undoHoverStyles = () => (ref.current.style.textDecoration = 'unset');\n\n  return (\n    <button\n      ref={ref}\n      style={btnStyles}\n      onMouseEnter={doHoverStyles}\n      onMouseLeave={undoHoverStyles}\n      onClick={clickRegister}>\n      Sign up for Twitter\n    </button>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}